## 객체, 설계

- 목적 : 객체지향 프로그래밍을 설계하고, 유지보수하는 데 필요한 원칙과 기법을 설명하기 위함.



### 01 티켓 판매 애플리케이션 구현하기

- 목표는 초대장을 발송하는 것
- 초대장이 있으면 공연을 무료로 관람할 수 있음
- 문제는 초대장이 있는 관람객과, 그렇지 않은 관람객을 **다른 방식** 으로 입장시켜야함.
- 즉 초대장이 없으면, **티켓을 구매** 해야만 입장할 수 있다!
- 관람객이 가지고 올 수 있는 소지품을 3가지
  1. 초대장
  2. 현금
  3. 티켓

- 가방의 상태는 2가지 일 것
  1. 이벤트에 당첨된 관람객의 가방
     - 초대장이 있음
  2. 이벤트에 담청되지 않은 관람객의 가방
     - 초대장이 없음.

- 티켓을 판매할 오피스도 있어야하고,
- 티켓오피스에서 티켓을 판매하거나, 교환할 셀러도 있어야함.



### 02 문제점

- 모든 모듈은 제대로 실행되어야하고, 변경이 용이해야하며, 이해하기 쉬워야함.
- 현재 코드는 제대로 실행됨.
  - 그렇지만 변경이 용이하거나, 이해하기 쉬운 코드는 아니다.
- 문제는 관람객과 판매원이 극장에 통제를 받고 있다.
  - 생각해보면, 극장이 관람객의 가방을 열어볼 수 있을까? 안될듯.
- 극장 클래스 `enter()` 에서 너무 많은 일을 처리하고 있음.



#### 변경에 취약함

- 현재 관람객이 항상 가방을 들고다닌다고 가정하고 있음.
  - 안 가지고 다니는 경우도 있지 않을까?
- 그리고 계산은 현금으로 계산됨. 
  - 만약 신용카드를 이용해서 결제한다면 어떻게 됨?
  - 결제 방식 자체와 이와 연결된 클래스를 바꿔야할 가능성이 높다.
- 즉 객체 간의 의존성이 높음.
  - 다시 말해, 최소한의 의존성만 유지하고, 불필요한 의존성은 제거하는게 좋음.
- `결합도(coupling)` 이 높다는 것은, 객체 사이의 의존성이 과한것을 의미함.
- 결합도가 낮다면, 변경이 용이하다고 볼 수 있음.



### 03 설계 개선하기



