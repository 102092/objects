## 객체지향 프로그래밍

### 01 영화 예매 시스템

- 영화 클래스 (제목, 상영시간, 가격정보)

- 상영 클래스 (상영일자, 시간, 순번)

- 할인 조건 : 조건에 따라 할인 여부를 결정
- 할인 정책 : 얼마나 할인해줄 것인지 할인 요금을 결정함



### 02 객체지향 프로그래밍을 향해
 
- 어떤 클래스가 필요한지 고민하기 전에, 어떤 객체들이 필요한지 고민하자.
- 클래스는 공통적인 상태와 행동을 공유하는 객체들을 추상화 한 것
- 객체는 독립적인 존재가 아니라, 기능을 구현하기 위해 협력하는 **공동체의 일원**
- 도메인 이란?
  - 문제를 해결하기 위해서 사용자가 사용하는 분야를 일컫는 말
- public interface
  - 객체중 외부에서 접근이 가능한 부분.
- 구현 implementation
  - 객체 중 외부에서 접근이 불가능하고, 오직 내부에서만 접근이 가능한 부분
- 상호협력 Collaboration
  - 시스템의 어떤 기능을 구현하기 위해서는 객체들 사이의 이뤄지는 상호작용을 미리 작성해보는 것도 나쁘지 않다. 
- 객체는 다른 객체의 인터페이스에 공개된 행동을 수행하도록 request 할 수 있음.
  - 요청받은 객체는 자율적인 방법에 따라 요청을 처리한 후에, response 함.
- **객체가 다른 객체와 상호작용할 수 있는 유일한 방법은 메세지 전송뿐!**
  - 이러한 메시지를 수신 받은 객체가 , **스스로** 의 결정에 따라 자율적으로 이 메세지를 어떻게 처리할 지 결정하는 데 이러한 방법을 메서드라함.
  
  
### 03 할인 요금 구하기
```java
  public Money calculateMovieFee(Screening screening) {
    return fee.minus(discountPolicy.calculateDiscountAmount(screening));
  }
```
- 어떤 할인정책을 쓸지 결정하지 않아도 된다.
- 단지 `disCountPolicy` 에 메세지만 보낼 뿐.
  - 어떤 메세지? calculateDisCountAmount하라는!!
- 부모클래스에 기본적인 알고리즘의 흐름을 구현하고, 중간에 필요한 처리는 자식 클래스에 위임하는 디자인 패턴을 `TEMPLATE METHOD` 라 부른다.
- 오버라이딩 : 부모클래스에 정의된 같은 이름, 같은 파라미터 목록을 가진 메서드를 자식 클래스에서 **재정의** 하는 것을 의미한다.
- 오버 로딩 : 메서드 이름은 같지만 , 제공되는 파라미터의 목록이 다르다.


### 04 상속과 다형성
- 설계가 유연해질수록 코드를 이해하고 디버깅하기는 점점 어려워진다.
  - 반면에 유연성을 억제하면 코드를 이해하고, 디버깅 하기는 쉬워지지만 재사용성과 확장 가능성은 낮아진다.
- 상속이란?
  - 코드를 재사용하기 위해 사용되는 방법 중 하나.
  - 기존 클래스를 기반으로 새로운 클래스를 쉽고 빠르게 추가할 수 있는 간편한 방법을 의미한다.(programming by difference) 차이에 의한 프로그래밍
  - super class, sub class로 나뉜다.
  - 컴파일러는 부모클래스가 나오는 모든 장소에 자식 클래스 사용을 허용한다.
    - 자식 클래스가 부모 클래스를 대신하는 것을 upcasting 이라 함.
- 다형성이란?
  - `Movie`는 동일한 메서지를 전송하지만, 실제로 어떤 메서드가 실행될 지는 수신하는 객체의 클래스에 따라 달라지는 것.
  - 컴파일 시간 의존성과 실행 시간 의존성을 다르게 만들어, 서로 다른 메서드를 실행할 수 있도록 도와준다.
  - 즉 동일 메세지를 수신했을 때, 객체의 타입에 따라 다르게 응답할 수 있도록 하는 능력을 의미한다.
  - 수신된 메세지에 응답하기 위해 실행될 메서드를 컴파일 시점이 아닌, 실행 시점에 결정한다.
    - 이를`lazy binding` 또는 `static binding` 이라 부른다.
  - 클래스를 상속 받는 것만이 다형성을 구현할 수 있는 유일한 방법은 아니다.
   
### 05 추상화와 유연성
- 추상화를 사용하면 설계가 유연해진다.
- 추상화를 사용하면 세부적인 내용을 무시한 채, 상위 정책을 쉽고 간단하게 표현할 수 있다.
  - 추상화를 이용해 상위 정책을 기술한다는 것은, 기본적인 애플리케이션의 협력 흐름을 기술한다는 의미다.
- 핵심은 유연성이 필요한 곳에 **추상화**를 사용해야한다!
- 상속의 가장 큰 문제점은 캠슐화를 위반한다는 것, 그리고 설계를 유연하게 만들지 못한다는 것.
  - 상속을 이용하기 위해서는 부모클래스의 구조를 알고 있어야함.
  - 상속의 과도하게 사용된 코드는 변경하기 어려워진다.
  
- 합성은 인터페이스의 정의된 메세지를 통해서만 코드를 재사용하는 방법을 의미한다.
- 
   
---

> 질문
1. 도메인이란 무엇인가?
2. 객체가 상태와 행동을 함께 가지는 복합적인 존재하는 것은 무엇과 연관되어 있는가?
3. 객체를 두 부분(public interface, implementation) 으로 나눈다 할 때, 각각의 개념을 정의하라
4. 오버라이딩과 오버로딩의 차이점
5. 상속이란 무엇인가?
    - 상속의 가장 큰 문제점은 무엇인가?
6. upcasting이란 무엇인가?
7. 다형성이란 무엇인가?
8. 추상화를 사용할 때 장점은 무엇인가?
9. 합성이란 무엇인가?
